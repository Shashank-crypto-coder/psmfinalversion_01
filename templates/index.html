<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <style>
            #value-container {
        position: absolute;
        top: 50%;
        left: 60%;
        font-size: 30px;
        font-weight: bold;
        font-family: Georgia, 'Times New Roman', Times, serif;
      }
        .video-container {
            margin-top: 5%;
            background-color: white;
            margin-right: 10%;
          }
          
          .video-container iframe {
            width: 100%;
            height: 400px;
          }
          body {
  /* background-image: url("static/bg_1.png"); */
  background-repeat: no-repeat, repeat;
  background-color: #C8E0FE; 
  background-size: cover;
}
h1{
  padding-left: 30px;
}
</style>
      </head>
    <body>
        <section id="nav-bar">
            <nav class="navbar navbar-expand-lg navbar-light " style="background-color: #3E83D9;">
              <div class="container-fluid">
                <img src="static/logo1.png" alt="logo" width="50px" height="50px">&nbsp;<h1 style="color:white;">SpotSaze</h1>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                  aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                  <i class="fa fa-bars" aria-hidden="true"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                  <ul class="navbar-nav ms-auto" style="float:right;">
                    <li class="nav-item">
                      <a class="nav-link active" style="color:white;font-size:18px" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" style="color:white;font-size:18px" href="#">About Us</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link active" style="color:white;font-size:18px" href="#">Contact Us</a>
                      </li>
                  </ul>
                </div>
              </div>
            </nav>
          </section>
          <section>
    
            <ul>
            <li class="nav-item dropdown" style="list-style:none;">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="font-size: xx-large;margin-top: 5%;margin-left: 5%;">
                Levels
              </a>
              <ul class="dropdown-menu">
                <li><button class="mall-button" onclick="playVideo('/static/final1.mp4',valueDict1)" style="width:100%;">level 1</button><br></li>
                <li><button class="mall-button" onclick="playVideo('/static/final2.mp4',valueDict2)" style="width:100%;">level 2</button><br></li>
                <!-- <li><button class="mall-button" onclick="playVideo('video_url_3')" style="width:100%;">level 3</button><br></li> -->
                
              </ul>
            </li>
            </ul>
          </section>
          <div id="value-container"></div>
          <video id="my-video" width="640" height="360" controls style="margin-left: 5%;" loop autoplay>
            <!-- <source src="/static/final1.mp4" type="video/mp4"> -->
          </video> 
          
      
          
          <script>
            var valueDict2 = {'00:00': 18, '00:01': 18, '00:02': 18, '00:03': 18, '00:04': 18, '00:05': 18, '00:06': 19, '00:07': 16, '00:08': 19, '00:09': 18, '00:10': 18, '00:11': 17, '00:12': 17, '00:13': 18, '00:14': 17, '00:15': 16, '00:16': 17, '00:17': 19, '00:18': 20, '00:19': 19, '00:20': 18, '00:21': 17, '00:22': 19, '00:23': 20, '00:24': 19};
            var valueDict1 = {'00:00': 3, '00:01': 2, '00:02': 2, '00:03': 2, '00:04': 2, '00:05': 2, '00:06': 2}
        function playVideo(videoUrl,valueDict) {
        var video = document.getElementById("my-video");
        var valueContainer = document.getElementById("value-container");
        valueContainer.textContent = "";
        video.src = videoUrl;
        video.controls = true;
        video.style.marginLeft = "5%";

        video.addEventListener("timeupdate", function() {
          var currentTime = video.currentTime.toFixed(0);
          var formattedTime = formatTime(currentTime);
          if (valueDict.hasOwnProperty(formattedTime)) {
            var value = valueDict[formattedTime];
            valueContainer.textContent = "Available slots: " + value;
          } else {
            valueContainer.textContent = "";
          }
        });

        video.play();
      }

  

        
            function formatTime(time) {
        var minutes = Math.floor(time / 60);
        var seconds = time % 60;
        return (
          minutes.toString().padStart(2, "0") +
          ":" +
          seconds.toString().padStart(2, "0")
        );
      }
        
    
            
          </script>
          <div  class="video-container" id="videoContainer"></div>
        </body>
        </html>
